// eslint-disable-next-line @typescript-eslint/no-unused-vars
import { jsx, createContext, useContext } from '../../jsx/index.ts';
export const RequestContext = createContext(null);
const createRenderer = (c, component, options)=>(children, props)=>{
        const docType = typeof options?.docType === 'string' ? options.docType : options?.docType === true ? '<!DOCTYPE html>' : '';
        return c.html(docType + /* eslint-disable @typescript-eslint/no-explicit-any */ jsx(RequestContext.Provider, {
            value: c
        }, component ? component({
            children,
            ...props || {}
        }) : children));
    };
export const jsxRenderer = (component, options)=>(c, next)=>{
        /* eslint-disable @typescript-eslint/no-explicit-any */ c.setRenderer(createRenderer(c, component, options));
        return next();
    };
export const useRequestContext = ()=>{
    const c = useContext(RequestContext);
    if (!c) {
        throw new Error('RequestContext is not provided.');
    }
    return c;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaG9ub0B2My4xMC4wLXJjLjIvbWlkZGxld2FyZS9qc3gtcmVuZGVyZXIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBDb250ZXh0LCBSZW5kZXJlciB9IGZyb20gJy4uLy4uL2NvbnRleHQudHMnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBqc3gsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICcuLi8uLi9qc3gvaW5kZXgudHMnXG5pbXBvcnQgdHlwZSB7IEZDLCBKU1hOb2RlIH0gZnJvbSAnLi4vLi4vanN4L2luZGV4LnRzJ1xuaW1wb3J0IHR5cGUgeyBFbnYsIElucHV0LCBNaWRkbGV3YXJlSGFuZGxlciB9IGZyb20gJy4uLy4uL3R5cGVzLnRzJ1xuXG5leHBvcnQgY29uc3QgUmVxdWVzdENvbnRleHQgPSBjcmVhdGVDb250ZXh0PENvbnRleHQgfCBudWxsPihudWxsKVxuXG50eXBlIFByb3BzRm9yUmVuZGVyZXIgPSBbLi4uUmVxdWlyZWQ8UGFyYW1ldGVyczxSZW5kZXJlcj4+XSBleHRlbmRzIFt1bmtub3duLCBpbmZlciBQcm9wc11cbiAgPyBQcm9wc1xuICA6IHVua25vd25cblxudHlwZSBSZW5kZXJlck9wdGlvbnMgPSB7XG4gIGRvY1R5cGU/OiBib29sZWFuIHwgc3RyaW5nXG59XG5cbmNvbnN0IGNyZWF0ZVJlbmRlcmVyID1cbiAgKGM6IENvbnRleHQsIGNvbXBvbmVudD86IEZDPFByb3BzRm9yUmVuZGVyZXI+LCBvcHRpb25zPzogUmVuZGVyZXJPcHRpb25zKSA9PlxuICAoY2hpbGRyZW46IEpTWE5vZGUsIHByb3BzOiBQcm9wc0ZvclJlbmRlcmVyKSA9PiB7XG4gICAgY29uc3QgZG9jVHlwZSA9XG4gICAgICB0eXBlb2Ygb3B0aW9ucz8uZG9jVHlwZSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyBvcHRpb25zLmRvY1R5cGVcbiAgICAgICAgOiBvcHRpb25zPy5kb2NUeXBlID09PSB0cnVlXG4gICAgICAgID8gJzwhRE9DVFlQRSBodG1sPidcbiAgICAgICAgOiAnJ1xuXG4gICAgcmV0dXJuIGMuaHRtbChcbiAgICAgIChkb2NUeXBlICtcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuICAgICAgICBqc3goXG4gICAgICAgICAgUmVxdWVzdENvbnRleHQuUHJvdmlkZXIsXG4gICAgICAgICAgeyB2YWx1ZTogYyB9LFxuICAgICAgICAgIChjb21wb25lbnQgPyBjb21wb25lbnQoeyBjaGlsZHJlbiwgLi4uKHByb3BzIHx8IHt9KSB9KSA6IGNoaWxkcmVuKSBhcyBhbnlcbiAgICAgICAgKSkgYXMgYW55XG4gICAgKVxuICB9XG5cbmV4cG9ydCBjb25zdCBqc3hSZW5kZXJlciA9XG4gIChjb21wb25lbnQ/OiBGQzxQcm9wc0ZvclJlbmRlcmVyPiwgb3B0aW9ucz86IFJlbmRlcmVyT3B0aW9ucyk6IE1pZGRsZXdhcmVIYW5kbGVyID0+XG4gIChjLCBuZXh0KSA9PiB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuICAgIGMuc2V0UmVuZGVyZXIoY3JlYXRlUmVuZGVyZXIoYywgY29tcG9uZW50LCBvcHRpb25zKSBhcyBhbnkpXG4gICAgcmV0dXJuIG5leHQoKVxuICB9XG5cbmV4cG9ydCBjb25zdCB1c2VSZXF1ZXN0Q29udGV4dCA9IDxcbiAgRSBleHRlbmRzIEVudiA9IGFueSxcbiAgUCBleHRlbmRzIHN0cmluZyA9IGFueSxcbiAgSSBleHRlbmRzIElucHV0ID0ge31cbj4oKTogQ29udGV4dDxFLCBQLCBJPiA9PiB7XG4gIGNvbnN0IGMgPSB1c2VDb250ZXh0KFJlcXVlc3RDb250ZXh0KVxuICBpZiAoIWMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlcXVlc3RDb250ZXh0IGlzIG5vdCBwcm92aWRlZC4nKVxuICB9XG4gIHJldHVybiBjXG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsNkRBQTZEO0FBQzdELFNBQVMsR0FBRyxFQUFFLGFBQWEsRUFBRSxVQUFVLFFBQVEscUJBQW9CO0FBSW5FLE9BQU8sTUFBTSxpQkFBaUIsY0FBOEIsSUFBSSxFQUFDO0FBVWpFLE1BQU0saUJBQ0osQ0FBQyxHQUFZLFdBQWtDLFVBQy9DLENBQUMsVUFBbUIsUUFBNEI7UUFDOUMsTUFBTSxVQUNKLE9BQU8sU0FBUyxZQUFZLFdBQ3hCLFFBQVEsT0FBTyxHQUNmLFNBQVMsWUFBWSxJQUFJLEdBQ3pCLG9CQUNBLEVBQUU7UUFFUixPQUFPLEVBQUUsSUFBSSxDQUNWLFVBQ0MscURBQXFELEdBQ3JELElBQ0UsZUFBZSxRQUFRLEVBQ3ZCO1lBQUUsT0FBTztRQUFFLEdBQ1YsWUFBWSxVQUFVO1lBQUU7WUFBVSxHQUFJLFNBQVMsQ0FBQyxDQUFDO1FBQUUsS0FBSyxRQUFRO0lBR3pFO0FBRUYsT0FBTyxNQUFNLGNBQ1gsQ0FBQyxXQUFrQyxVQUNuQyxDQUFDLEdBQUcsT0FBUztRQUNYLHFEQUFxRCxHQUNyRCxFQUFFLFdBQVcsQ0FBQyxlQUFlLEdBQUcsV0FBVztRQUMzQyxPQUFPO0lBQ1QsRUFBQztBQUVILE9BQU8sTUFBTSxvQkFBb0IsSUFJUjtJQUN2QixNQUFNLElBQUksV0FBVztJQUNyQixJQUFJLENBQUMsR0FBRztRQUNOLE1BQU0sSUFBSSxNQUFNLG1DQUFrQztJQUNwRCxDQUFDO0lBQ0QsT0FBTztBQUNULEVBQUMifQ==